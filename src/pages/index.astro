---
import Layout from '../layouts/Layout.astro';
import Main from '@components/Main.astro';
import { supabase } from '@lib/supabase';

const {cookies} = Astro;
const user = cookies.get('sb-token')
const { data } = await supabase.auth.getUser();

const isLogged = data?.user !== null && user?.value !== undefined;
---

<Layout
	title="Spell Checker"
	description="App that uses AI to check the spell"
	{isLogged}
>
	{
		!isLogged ? (
			<main class="bg-gray-800 flex-1 flex flex-col gap-4 items-center p-4 pt-16 justify-start sm:justify-center w-full h-screen m-x-auto text-white">
				<h1 class="text-2xl sm:text-4xl font-bold text-center">
					Spell checker
				</h1>
				<ul class="flex gap-6 items-center font-bold text-xl mt-4">
					<p class="mt-6 text-s font-light">You can</p>
					<li class="mt-6">
						<a href="/register">Register</a>
					</li>
					<p class="mt-6 text-s font-light">or</p>
					<li class="mt-6">
						<a href="/signin">Log In</a>
					</li>
				</ul>
			</main>
		) : (
			<Main />
		)
	}
</Layout>
